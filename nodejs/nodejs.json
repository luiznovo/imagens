{
  "meta": {
    "version": "GPANEL_v1",
    "update_url": null
  },
  "exported_at": "2025-10-21T18:00:00+00:00",
  "name": "Node.js Generic",
  "author": "info@skyport.dev",
  "description": "Node.js is a runtime environment that enables JavaScript code to run outside of web browsers. This image supports multiple Node.js versions, customizable main file, package installation, and user uploads.",
  "docker_images": {
    "Nodejs 24": "ghcr.io/pelican-eggs/yolks:nodejs_24",
    "Nodejs 23": "ghcr.io/pelican-eggs/yolks:nodejs_23",
    "Nodejs 22": "ghcr.io/pelican-eggs/yolks:nodejs_22",
    "Nodejs 21": "ghcr.io/pelican-eggs/yolks:nodejs_21",
    "Nodejs 20": "ghcr.io/pelican-eggs/yolks:nodejs_20",
    "Nodejs 19": "ghcr.io/pelican-eggs/yolks:nodejs_19",
    "Nodejs 18": "ghcr.io/pelican-eggs/yolks:nodejs_18",
    "Nodejs 17": "ghcr.io/pelican-eggs/yolks:nodejs_17",
    "Nodejs 16": "ghcr.io/pelican-eggs/yolks:nodejs_16",
    "Nodejs 14": "ghcr.io/pelican-eggs/yolks:nodejs_14",
    "Nodejs 12": "ghcr.io/pelican-eggs/yolks:nodejs_12"
  },
  "startup": "if [[ -d .git ]] && [[ ${AUTO_UPDATE} == '1' ]]; then git pull; fi; if [[ ! -z ${NODE_PACKAGES} ]]; then npm install ${NODE_PACKAGES}; fi; if [[ ! -z ${UNNODE_PACKAGES} ]]; then npm uninstall ${UNNODE_PACKAGES}; fi; if [ -f /home/container/package.json ]; then npm install --production; fi; if [[ ${MAIN_FILE} == *.js ]]; then node /home/container/${MAIN_FILE} ${NODE_ARGS}; else ts-node --esm /home/container/${MAIN_FILE} ${NODE_ARGS}; fi",
  "config": {
    "files": "{}",
    "startup": "{}",
    "logs": "{}",
    "stop": "^C"
  },
  "scripts": {
    "installation": {
      "script": "#!/bin/bash\napt update && apt install -y git curl jq file unzip make gcc g++ python3 python3-dev python3-pip libtool\nnpm install -g npm@latest typescript ts-node @types/node\ncorepack enable\ncorepack prepare pnpm@latest --activate\nexit 0",
      "container": "node:18-bookworm-slim",
      "entrypoint": "bash"
    }
  },
  "variables": [
    {
      "name": "Main file",
      "description": "The file that starts the app (.js or .ts).",
      "env_variable": "MAIN_FILE",
      "default_value": "index.js",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["required","string","max:16"]
    },
    {
      "name": "Additional Node Packages",
      "description": "Install extra Node packages. Use spaces to separate.",
      "env_variable": "NODE_PACKAGES",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable","string"]
    },
    {
      "name": "Uninstall Node Packages",
      "description": "Uninstall Node packages. Use spaces to separate.",
      "env_variable": "UNNODE_PACKAGES",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable","string"]
    },
    {
      "name": "Additional Arguments",
      "description": "Extra arguments for nodejs or ts-node",
      "env_variable": "NODE_ARGS",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable","string","max:64"]
    },
    {
      "name": "Auto Update",
      "description": "Pull latest files on startup if using a GitHub repo.",
      "env_variable": "AUTO_UPDATE",
      "default_value": "0",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["required","boolean"]
    },
    {
      "name": "Git Repo Address",
      "description": "GitHub Repo to clone, e.g., https://github.com/user/repo",
      "env_variable": "GIT_ADDRESS",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable","string"]
    },
    {
      "name": "Git Username",
      "description": "Username to auth with git.",
      "env_variable": "USERNAME",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable","string"]
    },
    {
      "name": "Git Access Token",
      "description": "Personal Access Token for git.",
      "env_variable": "ACCESS_TOKEN",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable","string"]
    },
    {
      "name": "Install Branch",
      "description": "Branch to install.",
      "env_variable": "BRANCH",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable","string"]
    },
    {
      "name": "User Uploaded Files",
      "description": "Skip install steps if user uploads files (0=false, 1=true)",
      "env_variable": "USER_UPLOAD",
      "default_value": "0",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["required","boolean"]
    }
  ]
}
